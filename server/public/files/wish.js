webpackJsonp([2],{"+2ln":function(e,t,i){"use strict";var a=i("AA6R"),n=i.n(a),s=i("o69Z"),c=i("rhik"),r=Object(s.g)("info"),o=r[0],l=r[1];function u(e,t,i,a){if(Object(s.c)(t.info)&&""!==t.info)return e("div",n()([{class:l()},Object(c.b)(a,!0)]),[t.info])}u.props={info:[String,Number]};var d=o(u),p=Object(s.g)("icon")[0];function f(e,t,i,a){var s,r=!!(s=t.name)&&-1!==s.indexOf("/");return e(t.tag,n()([{class:[t.classPrefix,r?"van-icon--image":t.classPrefix+"-"+t.name],style:{color:t.color,fontSize:t.size}},Object(c.b)(a,!0)]),[i.default&&i.default(),r&&e("img",{attrs:{src:t.name}}),e(d,{attrs:{info:t.info}})])}f.props={name:String,size:String,color:String,info:[String,Number],tag:{type:String,default:"i"},classPrefix:{type:String,default:"van-icon"}};t.a=p(f)},"2OMQ":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.gifts&&e.gifts.length?i("div",{staticClass:"gift-swiper"},[i("div",{ref:"giftSwiper",staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},e._l(e.gifts,function(t,a){return i("div",{key:a,staticClass:"swiper-slide"},e._l(t,function(t){return i("div",{key:t.id,staticClass:"gift-item"},[i("div",{staticClass:"item-content",class:e.selectedGift.id===t.id?"item-content-select":"",style:e.selectedGift.id===t.id?e.selectedItemStyle:"",on:{click:function(i){return e.selectGift(t.id)}}},[i("img",{staticClass:"gift-img",attrs:{src:t.icon2}}),e._v(" "),i("span",{staticClass:"gift-title"},[e._v(e._s(t.title))]),e._v(" "),i("span",{staticClass:"gift-price"},[e._v("￥"+e._s(t.price))]),e._v(" "),i("span",{staticClass:"selected-flag",style:e.selectedGift.id===t.id?e.selectedFlagStyle:""})])])}),0)}),0),e._v(" "),i("div",{staticClass:"swiper-pagination"})]),e._v(" "),i("div",{staticClass:"selected",class:e.split?"selected-split":""},[i("div",{staticClass:"desc"},[i("img",{attrs:{src:e.selectedGift.icon}}),e._v(" "),i("span",{style:{color:e.selectedGift.color}},[e._v(" "+e._s(e.selectedGift.desc)+" ")])]),e._v(" "),i("div",{staticClass:"action",style:e.theme,on:{click:e.sendGift}},[e._v(e._s(e.sendText))])])]):e._e()};a._withStripped=!0;i("zmx7"),i("A0n/"),i("fx22"),i("WgSQ"),i("gYYG"),i("tJwI");var n=i("a+wG"),s=i("XyUQ");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o={name:"gift-swiper",props:{split:Boolean,theme:Object,shouldUpdate:Boolean,giftList:{type:Array,default:function(e){return e||[]}},sendText:{type:String,default:"赠送礼物"}},data:function(){return{giftSwiper:null,allGiftList:this.giftList}},watch:{shouldUpdate:function(e){e&&this.giftSwiper&&this.giftSwiper.update()}},computed:{gifts:function(){var e=this.allGiftList;return Object(n.r)(e,8)},selectedGift:function(){var e=this.allGiftList,t=e[0]||{};e.forEach(function(e){+e.is_select&&(t=e)});var i=t,a=i.insurance_desc,n=i.insurance_type,c=i.id;return+n?{id:c,color:"#578afe",desc:a,icon:"//qnm.hunliji.com/o_1d3niqlan30sgkdfhceqo2a.png",data:t}:{id:c,color:"#f83244",desc:"小主放心送，礼物金额将全部转至新人的".concat(Object(s.g)(),"账户"),icon:"//qnm.hunliji.com/o_1d3niqlan1g7v191sciauodt4jb.png",data:t}},selectedItemStyle:function(){return{borderColor:this.theme.backgroundColor}},selectedFlagStyle:function(){return{background:this.theme.backgroundColor}}},methods:{initGiftSwiper:function(){var e=this;this.$nextTick(function(){e.gifts.length&&(e.giftSwiper?e.giftSwiper.update():e.giftSwiper=new window.Swiper(e.$refs.giftSwiper,{pagination:{el:".swiper-pagination"}}))})},selectGift:function(e){this.allGiftList=this.allGiftList.map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(i,!0).forEach(function(t){r(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},t,{is_select:t.id===e?"1":"0"})})},sendGift:function(){this.selectedGift.data&&this.$emit("sendGiftClick",this.selectedGift.data)}},mounted:function(){this.initGiftSwiper()}},l=(i("qaCC"),i("K1/g")),u=Object(l.a)(o,a,[],!1,null,"61c0280b",null);u.options.__file="src/new-card/components/giftSwiper/index.vue";t.a=u.exports},"5VwN":function(e,t){},"8yX5":function(e,t,i){"use strict";var a=i("KBV0");i.n(a).a},"Bu8/":function(e,t){},CwCV:function(e,t){},DOpR:function(e,t,i){"use strict";var a=i("L2w1");i.n(a).a},GXvT:function(e,t){},KBV0:function(e,t){},L2w1:function(e,t){},L9b5:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"red-packet"},[i("h-popup",{style:e.popupStyle,attrs:{"close-on-click-overlay":!1,"show-close":!1,"get-container":"#wrapper"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{ref:"packetWarp",staticClass:"red-packet-warp"},[i("div",{staticClass:"shade"},[i("i",{staticClass:"close-icon",on:{click:e.close}}),e._v(" "),i("img",{attrs:{src:"https://qnm.hunliji.com/o_1cnqha7qv1p551v8uu6g1ogml7p17.png"}})]),e._v(" "),i("transition",{attrs:{name:"slide-in-down",appear:""}},[e.visible?i("img",{ref:"money",staticClass:"money",attrs:{src:"https://qnm.hunliji.com/o_1cnoi2dj51i6vhr61j2t1vt01rj7l.png"}}):e._e()]),e._v(" "),i("div",{staticClass:"action-warp"},[i("div",{staticClass:"packet-input name",on:{click:function(t){return e.focus("nameInput")}}},[i("span",[e._v("赠送人：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.packet.name,expression:"packet.name"}],ref:"nameInput",attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:e.packet.name},on:{input:function(t){t.target.composing||e.$set(e.packet,"name",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"packet-input money-sum",on:{click:function(t){return e.focus("moneyInput")}}},[i("span",[e._v("礼金金额：")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.packet.money,expression:"packet.money"}],ref:"moneyInput",attrs:{placeholder:"请输入礼金金额",type:"number"},domProps:{value:e.packet.money},on:{input:function(t){t.target.composing||e.$set(e.packet,"money",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"tip"},[e._v("礼金金额全部转至新人的"+e._s(e.type)+"账户~")]),e._v(" "),i("div",{ref:"sendBut",staticClass:"save-money",on:{click:e.getPayInfo}})])],1)]),e._v(" "),i("pay-modal",{attrs:{"card-data":e.cardData},on:{ok:e.pay},model:{value:e.payModalVisible,callback:function(t){e.payModalVisible=t},expression:"payModalVisible"}})],1)};a._withStripped=!0;i("y9m4"),i("gYYG"),i("SldL");var n=i("yCkY"),s=(i("EuXz"),i("QBuC"),i("XyUQ")),c=i("a+wG"),r=i("n9rW"),o=i("oOFt"),l=i("uvZt");function u(e,t,i,a,n,s,c){try{var r=e[s](c),o=r.value}catch(e){return void i(e)}r.done?t(o):Promise.resolve(o).then(a,n)}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var p={name:"redPacket",props:{visible:Boolean,cardData:Object,activePage:Number},model:{prop:"visible",event:"change"},data:function(){return{packet:{name:"",money:""},type:Object(s.g)(),payModalVisible:!1,payInfo:null,popupStyle:{left:0,right:0,top:0,bottom:0,transform:"none",background:"none",position:"absolute"}}},watch:{visible:function(e){if(e)this.packet={name:(Object(c.d)(s.c)||"")+"",money:(Object(c.d)("red-packet-money")||"")+""},Object(s.q)({tag:"priceShow"});else{var t,i=this.packet,a=i.name,n=i.money;Object(c.q)((d(t={},s.c,a),d(t,"red-packet-money",n),t))}}},methods:{focus:function(e){this.$refs[e].focus()},close:function(){this.$emit("change",!1)},verified:function(){var e=this.packet,t=e.name,i=e.money;return Object(c.n)()||!Object(c.m)()?(Object(n.a)("请在微信客户端进行支付操作"),!1):t.trim()?t.length>15?(Object(n.a)("姓名不能超过15个字符"),!1):i.trim()?Object(c.j)(+i)?+i<1?(Object(n.a)("礼金金额不能小于1元"),!1):!(+i>3e3)||(Object(n.a)("已超出微信单笔支付3000元的限额，请调整金额后再试"),!1):(Object(n.a)("礼金金额输入不合法"),!1):(Object(n.a)("请输入礼金金额"),!1):(Object(n.a)("请填写姓名"),!1)},pay:function(){var e=this.packet,t=e.name,i=e.money,a=this.payInfo,n=this.activePage;Object(s.s)({activePage:n,params:{type:"cash",payMoney:i,sendUser:t,card_id:Object(c.c)("card_id")},data:JSON.parse(a)})},getPayInfo:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,i,a,n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.packet,i=t.name,a=t.money,!this.verified()){e.next=10;break}return this.close(),e.next=5,Object(o.g)({cardId:Object(c.c)("card_id"),currentTime:(new Date).getTime(),giverName:i,price:a,openId:Object(r.a)(s.d)});case 5:n=e.sent,l=n.payParams,Object(s.q)({tag:"cash_gift"}),this.payInfo=l,this.payModalVisible=!0;case 10:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(a,n){var s=e.apply(t,i);function c(e){u(s,a,n,c,r,"next",e)}function r(e){u(s,a,n,c,r,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}(),scrollIntoView:function(){var e=this;this.timer=setTimeout(function(){var t=e.$refs,i=t.sendBut,a=t.packetWarp,n=t.money;i&&i.scrollIntoViewIfNeeded&&a&&a.style&&n&&n.style&&(a.style.zIndex=99,n.style.zIndex=-1,i.scrollIntoViewIfNeeded(!1)),clearTimeout(e.timer)},0)}},mounted:function(){Object(c.f)()&&window.addEventListener("resize",this.scrollIntoView)},beforeDestroy:function(){Object(c.f)()&&window.removeEventListener("resize",this.scrollIntoView)},components:{payModal:l.a}},f=(i("otHG"),i("K1/g")),v=Object(f.a)(p,a,[],!1,null,"c538c3a8",null);v.options.__file="src/new-card/components/redPacket/index.vue";t.a=v.exports},Lb4g:function(e,t){},LeVf:function(e,t,i){"use strict";var a=i("UmKz");i.n(a).a},Oahm:function(e,t){},Pw9P:function(e,t,i){"use strict";var a=i("GXvT");i.n(a).a},Qepb:function(e,t,i){"use strict";var a=i("CwCV");i.n(a).a},RJT5:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h-popup",{staticStyle:{background:"none"},attrs:{"get-container":"body"},on:{"close-icon-click":e.close,"click-overlay":e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"success-content"},[i("div",{staticClass:"success-icon"},[i("img",{attrs:{src:"//qnm.hunliji.com/o_1bjph0pq0u9aoib3fqo87169m7.png",alt:""}})]),e._v(" "),i("div",{staticClass:"success-text"},[e._v("发送成功")]),e._v(" "),i("div",{staticClass:"success-but",on:{click:e.gotoGiftPage}},[e._v(e._s(e.actionText))])])])};a._withStripped=!0;var n=i("XyUQ"),s={name:"successTip",props:{visible:Boolean,pageSwiper:Object,cardData:Object},computed:{actionText:function(){return this.cardData._hasGiftPage?"送祝福":"知道了"}},methods:{close:function(){this.$emit("close",!0)},gotoGiftPage:function(){if(this.$emit("close"),"送祝福"===this.actionText){var e=this.cardData.page,t=this.pageSwiper,i=null;e.forEach(function(e,t){Object(n.l)(e)&&(i=t)}),null!==i&&t.slideTo(i)}}}},c=(i("Pw9P"),i("K1/g")),r=Object(c.a)(s,a,[],!1,null,"5e7bafdb",null);r.options.__file="src/new-card/components/successTip/index.vue";t.a=r.exports},"RcZ+":function(e,t,i){"use strict";var a=i("YJwe");i.n(a).a},UmKz:function(e,t){},YJwe:function(e,t){},bHJx:function(e,t,i){"use strict";var a=i("vWPY");i.n(a).a},cBEi:function(e,t,i){"use strict";var a=i("o8/H");i.n(a).a},dpk4:function(e,t,i){"use strict";var a=i("Oahm");i.n(a).a},gMvS:function(e,t,i){"use strict";var a=i("u3VY");i.n(a).a},jlRw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wish-warp",class:e.wishCls},[e.wishCls&&e.danMuShow("gifts")?i("gift-bar",{attrs:{"wish-data":e.wishData,theme:e.theme}}):e._e(),e._v(" "),e.danMuShow("replies")?i("div",{staticClass:"barrage",style:e.barrageStyle},[i("div",{ref:"barrage",staticClass:"swiper-container"},[i("barrage",{attrs:{"wish-data":e.wishData,theme:e.theme}})],1)]):e._e(),e._v(" "),i("greeting",{directives:[{name:"show",rawName:"v-show",value:e.wishCls,expression:"wishCls"}],attrs:{theme:e.theme,"page-swiper":e.pageSwiper,"card-data":e.cardData,"active-page":e.activePage,"wish-data":e.wishData,"gift-list":e.giftList},on:{afterSendWish:e.onAfterSendWish}}),e._v(" "),i("barrage-tip",{attrs:{visible:e.barrageTipVisible,content:e.barrageContent},on:{"update:visible":function(t){e.barrageTipVisible=t}}})],1)};a._withStripped=!0;i("QBuC");var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"greeting"},[e.wishShow?i("div",{staticClass:"greeting-text",on:{click:e.showWishModal}},[e._v("\n    请留下您的祝福...\n  ")]):e._e(),e._v(" "),i("div",{staticClass:"greeting-icon"},[e.giftIconShow?i("div",{staticClass:"icon-gift",on:{click:e.showGiftModal}}):e._e(),e._v(" "),e.packetIconShow?i("div",{staticClass:"icon-packet",on:{click:e.showPacketModal}}):e._e()]),e._v(" "),i("wish-modal",{attrs:{visible:e.wishVisible,theme:e.theme},on:{"update:visible":function(t){e.wishVisible=t},ok:e.sendWish}}),e._v(" "),i("success-tip",{attrs:{visible:e.successVisible,"page-swiper":e.pageSwiper,"card-data":e.cardData},on:{close:e.showSuccessModal}}),e._v(" "),i("receive-tip",{attrs:{visible:e.receiveTipVisible,info:e.receiveInfo,"active-page":e.activePage},on:{"update:visible":function(t){e.receiveTipVisible=t}}}),e._v(" "),i("red-packet-modal",{attrs:{"card-data":e.cardData,"active-page":e.activePage},model:{value:e.redPacketVisible,callback:function(t){e.redPacketVisible=t},expression:"redPacketVisible"}}),e._v(" "),i("gift-modal",{attrs:{visible:e.giftModalVisible,theme:e.theme,"wish-data":e.wishData,"card-data":e.cardData,"active-page":e.activePage,"gift-list":e.giftList},on:{"update:visible":function(t){e.giftModalVisible=t}}})],1)};n._withStripped=!0;i("zmx7"),i("A0n/"),i("fx22"),i("WgSQ"),i("tJwI"),i("y9m4"),i("gYYG"),i("SldL");var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"gift-modal-warp",on:{touchstart:e.close,click:e.close}},[i("h-popup",{attrs:{position:"bottom",overlay:!1,"show-close":!1,"get-container":"#wrapper"},on:{close:e.close,"click-overlay":e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"gift-content"},[i("giftSwiper",{attrs:{theme:e.theme,"gift-list":e.giftList},on:{sendGiftClick:e.showSendGiftModal}})],1)]),e._v(" "),i("send-gift-modal",{attrs:{visible:e.sendGiftVisible,theme:e.theme,gift:e.selectedGift,"wish-data":e.wishData,"card-data":e.cardData,"active-page":e.activePage},on:{"update:visible":function(t){e.sendGiftVisible=t}}})],1)};s._withStripped=!0;var c=i("powO"),r=i("2OMQ"),o=i("XyUQ"),l={name:"giftModal",props:{visible:Boolean,theme:Object,wishData:Object,cardData:Object,activePage:Number,giftList:Array},data:function(){return{selectedGift:{},sendGiftVisible:!1}},watch:{visible:function(e){e&&Object(o.q)({tag:"giftShow"})}},methods:{close:function(){this.$emit("update:visible",!1)},showSendGiftModal:function(e){this.selectedGift=e,this.sendGiftVisible=!this.sendGiftVisible}},components:{sendGiftModal:c.a,giftSwiper:r.a}},u=(i("cBEi"),i("K1/g")),d=Object(u.a)(l,s,[],!1,null,"5eb3a8bb",null);d.options.__file="src/new-card/views/index/wish/greeting/giftModal/index.vue";var p=d.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h-popup",{staticStyle:{background:"none"},attrs:{value:e.visible,"get-container":"body"},on:{"click-overlay":e.close,"close-icon-click":e.close}},[i("div",{staticClass:"greeting-content"},[i("p",{staticClass:"title"},[e._v("您的祝福")]),e._v(" "),i("div",{staticClass:"name"},[i("h-label-input",{attrs:{placeholder:"请输入您的姓名",label:"姓名"},model:{value:e.wish.name,callback:function(t){e.$set(e.wish,"name",t)},expression:"wish.name"}})],1),e._v(" "),i("div",{staticClass:"wish-text"},[i("h-label-input",{attrs:{placeholder:"请留下您的祝福",type:"textarea",label:"祝福"},model:{value:e.wish.wish_language,callback:function(t){e.$set(e.wish,"wish_language",t)},expression:"wish.wish_language"}})],1),e._v(" "),i("h-button",{style:Object.assign({},{backgroundColor:"#f83244"},e.theme),attrs:{block:""},on:{click:e.ok}},[e._v("\n      确定\n    ")])],1)])};f._withStripped=!0;var v=i("yCkY"),h=(i("EuXz"),i("a+wG")),b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label-wrap"},[i("div",{class:["label",{large:!0===e.large}]},[e.required?i("span",{staticClass:"red"},[e._v("*")]):e._e(),e._v(" "),i("span",[e._v(e._s(e.label))])]),e._v(" "),i("div",{staticClass:"hairline"},["text"===e.type?i("input",{staticClass:"input",attrs:{maxlength:e.maxlength,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.onChange(t.target.value)}}}):i("textarea",{staticClass:"textarea",attrs:{maxlength:e.maxlength,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.onChange(t.target.value)}}})])])};b._withStripped=!0;var g={name:"h-label-input",props:{label:String,type:{type:String,default:function(){return"text"}},large:Boolean,value:String,required:{type:Boolean,default:function(){return!0}},placeholder:String,maxlength:Number},model:{prop:"value",event:"input"},data:function(){return{}},methods:{onChange:function(e){this.$emit("input",e)}}},m=(i("LeVf"),Object(u.a)(g,b,[],!1,null,"c336040e",null));m.options.__file="src/new-card/components/labelInput/index.vue";var w=m.exports,_={name:"wishModal",props:{visible:Boolean,theme:Object},data:function(){return{wish:{name:"",wish_language:""},wishModalStyle:{top:Object(h.o)(40)+"rem",transform:"translate3d(-50%, 0, 0)"}}},watch:{visible:function(e){e?this.wish={name:(Object(h.d)(o.c)||"")+"",wish_language:""}:Object(h.q)(o.c,this.wish.name)}},methods:{verified:function(){var e=this.wish,t=e.name,i=e.wish_language;return t.trim()?t.length>15?(Object(v.a)("姓名不能超过15个字符"),!1):!!i.trim()||(Object(v.a)("请留下您的祝福"),!1):(Object(v.a)("请填写姓名"),!1)},ok:function(){this.verified()&&this.$emit("ok",this.wish)},close:function(){this.$emit("update:visible",!1)}},components:{hLabelInput:w}},y=(i("8yX5"),Object(u.a)(_,f,[],!1,null,"81b8b738",null));y.options.__file="src/new-card/views/index/wish/greeting/wishModal/index.vue";var O=y.exports,j=i("oOFt"),k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"receive-tip",class:e.show?"receive-tip-show":""},[i("p",[e._v("是否愿意接受新人的回复消息")]),e._v(" "),i("div",{staticClass:"receive-action"},[i("div",{staticClass:"receive-yes",on:{click:e.yes}},[e._v("是")]),e._v(" "),i("div",{staticClass:"receive-no",on:{click:e.no}},[e._v("否")])])])};k._withStripped=!0;var C={name:"receiveTip",props:{visible:Boolean,info:Object,activePage:Number},data:function(){return{hasAuth:Object(o.j)()}},computed:{show:function(){var e=this.visible;return!this.hasAuth&&e&&this.info.id}},watch:{visible:function(e){e&&this.hasAuth&&this.no()}},methods:{yes:function(){Object(h.q)(o.a,this.activePage||0);var e=this.info,t=e.id,i=void 0===t?"":t,a=e.type,n=void 0===a?"":a,s="http://".concat(window.location.host,"/p/wedding/index.php/home/APICardUserReply/wechat_callback/id/").concat(i,"/type/").concat(n,"/appver/8.2.7/");window.location.href="https://mp.weixin.qq.com/mp/subscribemsg?action=get_confirm&appid=".concat("wx6260e0fbaa341dd2","&scene=1000&template_id=").concat("ZzjyGF-sqXAXAQ2eff0P_RG8yblzA50SMJk1NXwUTZ4","&redirect_url=").concat(encodeURIComponent(s),"&reserved=test#wechat_redirect")},no:function(){this.$emit("update:visible",!1)}}},S=(i("RcZ+"),Object(u.a)(C,k,[],!1,null,"774028fb",null));S.options.__file="src/new-card/components/receiveTip/index.vue";var x=S.exports,P=i("RJT5"),V=i("L9b5");function I(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,a)}return i}function G(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?I(i,!0).forEach(function(t){M(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):I(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function D(e,t,i,a,n,s,c){try{var r=e[s](c),o=r.value}catch(e){return void i(e)}r.done?t(o):Promise.resolve(o).then(a,n)}var T={name:"greeting",props:{theme:Object,pageSwiper:Object,cardData:Object,activePage:Number,wishData:Object,giftList:Array},data:function(){return{wishVisible:!1,successVisible:!1,receiveTipVisible:!1,redPacketVisible:!1,giftModalVisible:!1,receiveInfo:{}}},computed:{giftIconShow:function(){var e=this.giftList;return e&&e.length&&this.actionShow("gift")},packetIconShow:function(){return this.actionShow("gold")},wishShow:function(){return this.actionShow("wish")}},methods:{actionShow:function(e){return 0!=+Object(h.e)(this.cardData.cardInfo,"set_up.".concat(e))},showWishModal:function(){this.wishVisible=!this.wishVisible},showSuccessModal:function(e){e&&(this.receiveTipVisible=!0),this.successVisible=!this.successVisible},showGiftModal:function(){this.giftModalVisible=!this.giftModalVisible},sendWish:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var i,a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.showWishModal(),e.next=3,Object(j.h)(t);case 3:i=e.sent,a=i.id,n=i.type,this.receiveInfo={id:a,type:n},this.showSuccessModal(),this.$emit("afterSendWish",G({},t,{id:a}));case 9:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(a,n){var s=e.apply(t,i);function c(e){D(s,a,n,c,r,"next",e)}function r(e){D(s,a,n,c,r,"throw",e)}c(void 0)})});return function(e){return t.apply(this,arguments)}}(),showPacketModal:function(){this.redPacketVisible=!0}},components:{receiveTip:x,successTip:P.a,giftModal:p,redPacketModal:V.a,wishModal:O}},$=(i("DOpR"),Object(u.a)(T,n,[],!1,null,"38cc8cad",null));$.options.__file="src/new-card/views/index/wish/greeting/index.vue";var B=$.exports,q=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h-popup",{staticStyle:{background:"none"},attrs:{"close-on-click-overlay":!1,"show-close":!1,"get-container":"body"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("img",{staticClass:"close",attrs:{src:"https://qnm.hunliji.com/o_1blaqnfq612e8arl1lb3g53n2u7.png"},on:{click:e.hideTip}}),e._v(" "),i("div",{staticClass:"barrage-content"},[i("p",{staticClass:"name"},[e._v(e._s((e.content||{}).name)+"：")]),e._v(" "),i("p",{staticClass:"text"},[e._v(e._s((e.content||{}).wish_language))])])])};q._withStripped=!0;var N={name:"barrageTip",props:{visible:Boolean,content:Object},methods:{hideTip:function(){this.$emit("update:visible",!1)}}},L=(i("Qepb"),Object(u.a)(N,q,[],!1,null,"fc38a362",null));L.options.__file="src/new-card/views/index/wish/barrageTip/index.vue";var E=L.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"swiper-wrapper"},[i("span",{domProps:{innerHTML:e._s(e.themeCss)}}),e._v(" "),e._l(e.wishData.replies,function(t,a){return i("div",{key:t.id,staticClass:"swiper-slide",attrs:{"data-index":a}},[i("span",{staticClass:"barrage-item barrage-item-theme"},[e._v("\n      "+e._s(t.name)+"："+e._s(t.wish_language)+"\n    ")])])})],2)};R._withStripped=!0;var W={name:"barrage",props:{wishData:Object,theme:Object},computed:{themeCss:function(){var e=this.theme,t=e.backgroundColor;return e.color?"<style>.barrage-item-theme{background-color:".concat(t,"</style>"):""}}},Y=(i("gMvS"),Object(u.a)(W,R,[],!1,null,"7c844542",null));Y.options.__file="src/new-card/views/index/wish/barrage/index.vue";var z=Y.exports,A={name:"wish",props:{cardData:Object,activePage:Number,wishData:Object,theme:Object,pageSwiper:Object,giftList:Array},data:function(){return{barrageSwiper:null,barrageTipVisible:!1,barrageContent:null}},watch:{wishData:function(e){this.initBarrageSwiper(e.pageIndex)}},computed:{barrageStyle:function(){return 1===(this.wishData.replies||[]).length?{height:Object(h.o)(34)+"rem"}:{}},wishCls:function(){var e=this.cardData.page,t=this.activePage;return 0===t||t>=e.length||Object(o.l)(e,t)||Object(o.m)(e,t)?"":"wish-warp-show"}},methods:{danMuShow:function(e){var t=this.cardData.cardInfo,i=this.wishData,a=Object(h.e)(t,"set_up")||{},n=a.gift,s=a.danmu,c=i[e]&&i[e].length;return"gifts"===e?0!=+s&&0!=+n&&c:0!=+s&&c},initBarrageSwiper:function(e){var t=this;this.$nextTick(function(){if(t.danMuShow("replies")){var i=t,a=i.wishData.replies,n=a.length;i.barrageSwiper&&i.barrageSwiper.destroy(),i.barrageSwiper=new window.Swiper(t.$refs.barrage,{direction:"vertical",loop:n>2,speed:800,slidesPerView:"auto",loopedSlides:n,autoplay:n>2&&{disableOnInteraction:!1,delay:2e3},on:{tap:function(e){var t=i.getClickedBarrageIndex(e.target);i.showBarrage(a[t])}}}),Object(h.j)(e)&&i.barrageSwiper.slideTo(e,0)}})},getClickedBarrageIndex:function(e){return Object.hasOwnProperty.call(e.dataset,"index")?e.dataset.index:this.getClickedBarrageIndex(e.parentNode)},showBarrage:function(e){this.barrageContent=e,this.barrageTipVisible=!0},onAfterSendWish:function(e){var t=this.barrageSwiper?this.barrageSwiper.realIndex:0;this.$emit("afterSendWish",e,t)}},mounted:function(){this.initBarrageSwiper()},components:{greeting:B,barrageTip:E,barrage:z,giftBar:function(){return i.e(15).then(i.bind(null,"BNdM"))}}},Q=(i("rNG4"),Object(u.a)(A,a,[],!1,null,"13c609b1",null));Q.options.__file="src/new-card/views/index/wish/index.vue";t.default=Q.exports},"o8/H":function(e,t){},otHG:function(e,t,i){"use strict";var a=i("Bu8/");i.n(a).a},pjZV:function(e,t,i){"use strict";var a=i("qQPn");i.n(a).a},powO:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h-popup",{staticStyle:{background:"none"},attrs:{value:e.visible,"get-container":"body"},on:{"close-icon-click":e.close,"click-overlay":e.close}},[i("div",{staticClass:"gift-send"},[i("div",{staticClass:"title"},[e._v("送礼物")]),e._v(" "),i("div",{staticClass:"send-info"},[i("h-key-val",{attrs:{label:"赠送的礼物"}},[e._v(e._s(e.gift.title)+"（￥"+e._s(e.gift.price)+"）")])],1),e._v(" "),i("div",{staticClass:"send-info"},[i("h-key-val",{attrs:{label:"赠送人"}},[i("div",{staticClass:"send-name"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"请填写您的姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})])])],1),e._v(" "),i("div",{staticClass:"send-ok"},[i("h-button",{style:e.theme,attrs:{block:""},on:{click:e.getPayInfo}},[e._v(" 确定 ")])],1)])]),e._v(" "),i("pay-modal",{attrs:{"card-data":e.cardData},on:{ok:e.pay},model:{value:e.payModalVisible,callback:function(t){e.payModalVisible=t},expression:"payModalVisible"}})],1)};a._withStripped=!0;i("y9m4"),i("gYYG"),i("SldL");var n=i("yCkY"),s=(i("EuXz"),i("QBuC"),i("oOFt")),c=i("XyUQ"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"label-wrap"},[i("div",{staticClass:"label"},[e.required?i("span",{staticClass:"red"},[e._v("*")]):e._e(),e._v(" "),i("span",[e._v(e._s(e.label))]),e._v(" "),e.split?i("span",[e._v("：")]):e._e()]),e._v(" "),i("div",{staticClass:"content"},[e._t("default")],2)])};r._withStripped=!0;var o={name:"h-key-val",props:{label:String,split:{type:Boolean,default:function(){return!0}},required:{type:Boolean,default:function(){return!0}}}},l=(i("bHJx"),i("K1/g")),u=Object(l.a)(o,r,[],!1,null,"30517205",null);u.options.__file="src/new-card/components/keyVal/index.vue";var d=u.exports,p=i("a+wG"),f=i("n9rW"),v=i("uvZt");function h(e,t,i,a,n,s,c){try{var r=e[s](c),o=r.value}catch(e){return void i(e)}r.done?t(o):Promise.resolve(o).then(a,n)}var b={name:"send-gift-modal",props:{visible:Boolean,theme:Object,gift:Object,wishData:Object,cardData:Object,activePage:Number},data:function(){return{name:"",payInfo:null,payModalVisible:!1}},watch:{visible:function(e){e?(this.name=(Object(p.d)(c.c)||"")+"",Object(c.q)({tag:"giftshow2"})):Object(p.q)(c.c,this.name)}},methods:{close:function(){this.$emit("update:visible",!1)},pay:function(){var e=this.gift,t=e.title,i=e.price,a=e.icon2,n=this.name,s=this.payInfo,r=this.activePage;Object(c.s)({activePage:r,params:{type:"gift",payGift:t,payMoney:i,sendUser:n,card_id:Object(p.c)("card_id"),imgUrl:a},data:JSON.parse(s)})},verified:function(){var e=this.name;return Object(p.n)()||!Object(p.m)()?(Object(n.a)("请在微信客户端进行支付操作"),!1):e.trim()?!(e.length>=15)||(Object(n.a)("姓名不能超过15个字符"),!1):(Object(n.a)("请填写姓名"),!1)},getPayInfo:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,i,a,n,r,o,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.verified()){e.next=11;break}return t=this.name,i=this.gift,a=i.id,n=i.icon2,r=i.price,o=this.wishData.user_id,e.next=6,Object(s.f)({currentTime:(new Date).getTime(),cardId:Object(p.c)("card_id"),giverName:t,giftId:a,userId:o,wishes:"祝你们爱情永驻，甜蜜幸福",giftImg:n,openId:Object(f.a)(c.d)});case 6:l=e.sent,u=l.payParams,Object(c.q)({tag:"gift"}),this.payInfo=u,+r>=50?this.payModalVisible=!0:this.pay();case 11:case"end":return e.stop()}},e,this)}),function(){var t=this,i=arguments;return new Promise(function(a,n){var s=e.apply(t,i);function c(e){h(s,a,n,c,r,"next",e)}function r(e){h(s,a,n,c,r,"throw",e)}c(void 0)})});return function(){return t.apply(this,arguments)}}()},components:{payModal:v.a,hKeyVal:d}},g=(i("pjZV"),Object(l.a)(b,a,[],!1,null,"75fe7f68",null));g.options.__file="src/new-card/components/sendGiftModal/index.vue";t.a=g.exports},qQPn:function(e,t){},qaCC:function(e,t,i){"use strict";var a=i("wIVg");i.n(a).a},rNG4:function(e,t,i){"use strict";var a=i("Lb4g");i.n(a).a},u3VY:function(e,t){},uvZt:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h-popup",{staticStyle:{background:"none"},attrs:{"close-on-click-overlay":!1,"get-container":"body"},on:{"close-icon-click":e.close},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"pay-modal"},[i("div",{staticClass:"content"},[i("p",{staticClass:"title"},[e._v("请确认：")]),e._v(" "),i("p",{staticClass:"person bridegroom"},[i("span",[e._v("新郎")]),e._v(" "),i("span",[e._v(e._s(e.cardInfo.groom_name))])]),e._v(" "),i("p",{staticClass:"person bride"},[i("span",[e._v("新娘")]),e._v(" "),i("span",[e._v(e._s(e.cardInfo.bride_name))])]),e._v(" "),i("p",{staticClass:"desc"},[e._v("是否是您的真实亲友")]),e._v(" "),i("div",{staticClass:"warn"},[i("span",[e._v("任何返利、抽奖活动均是诈骗行为，切勿相信")])])]),e._v(" "),i("div",{staticClass:"action"},[i("div",{staticClass:"cancel",on:{click:e.close}},[e._v("否")]),e._v(" "),i("div",{staticClass:"ok",on:{click:e.ok}},[e._v("是")])])])])};a._withStripped=!0;var n={name:"pay-modal",props:{visible:Boolean,cardData:Object},model:{prop:"visible",event:"change"},data:function(){return{checked:!1}},computed:{cardInfo:function(){return this.cardData.cardInfo||{}}},methods:{close:function(){this.$emit("change",!1)},ok:function(){this.$emit("ok",!1),this.close()}}},s=(i("dpk4"),i("K1/g")),c=Object(s.a)(n,a,[],!1,null,"c6ad0a30",null);c.options.__file="src/new-card/components/payModal/index.vue";t.a=c.exports},vWPY:function(e,t){},wIVg:function(e,t){},yCkY:function(e,t,i){"use strict";i("dkCF"),i("xCzi"),i("5VwN");var a=i("RfZZ"),n=i("lRwf"),s=i.n(n),c=i("o69Z"),r=i("CsZI"),o=i("+2ln"),l=i("pIDD"),u=Object(c.g)("toast"),d=u[0],p=u[1],f=["success","fail","loading"],v=d({mixins:[r.a],props:{className:null,forbidClick:Boolean,message:[String,Number],type:{type:String,default:"text"},loadingType:{type:String,default:"circular"},position:{type:String,default:"middle"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickale()},destroyed:function(){this.toggleClickale()},watch:{value:function(){this.toggleClickale()},forbidClick:function(){this.toggleClickale()}},methods:{toggleClickale:function(){var e=this.value&&this.forbidClick;if(this.clickable!==e){this.clickable=e;var t=e?"add":"remove";document.body.classList[t]("van-toast--unclickable")}}},render:function(e){var t=this,i=this.type,a=this.message,n=-1!==f.indexOf(i)?"default":i;return e("transition",{attrs:{name:"van-fade"}},[e("div",{directives:[{name:"show",value:this.value}],class:[p([n,this.position]),this.className]},[function(){switch(n){case"text":return e("div",[a]);case"html":return e("div",{domProps:{innerHTML:a}});default:return["loading"===i?e(l.a,{attrs:{color:"white",type:t.loadingType}}):e(o.a,{class:p("icon"),attrs:{name:i}}),Object(c.c)(a)&&e("div",{class:p("text")},[a])]}}()])])}}),h={type:"text",mask:!1,value:!0,message:"",className:"",onClose:null,duration:3e3,position:"middle",forbidClick:!1,loadingType:"circular",getContainer:"body",overlayStyle:null},b=function(e){return Object(c.e)(e)?e:{message:e}},g=[],m=!1,w=Object(a.a)({},h);function _(e){void 0===e&&(e={});var t=function(){if(c.f)return{};if(!g.length||m){var e=new(s.a.extend(v))({el:document.createElement("div")});g.push(e)}return g[g.length-1]}();return t.value&&t.updateZIndex(),e=Object(a.a)({},w,b(e),{clear:function(){if(t.value=!1,e.onClose&&e.onClose(),m&&!c.f){clearTimeout(t.timer),g=g.filter(function(e){return e!==t});var i=t.$el.parentNode;i&&i.removeChild(t.$el),t.$destroy()}}}),Object(a.a)(t,function(e){return e.overlay=e.mask,e}(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout(function(){t.clear()},e.duration)),t}["loading","success","fail"].forEach(function(e){var t;_[e]=(t=e,function(e){return _(Object(a.a)({type:t},b(e)))})}),_.clear=function(e){g.length&&(e?(g.forEach(function(e){e.clear()}),g=[]):m?g.shift().clear():g[0].clear())},_.setDefaultOptions=function(e){Object(a.a)(w,e)},_.resetDefaultOptions=function(){w=Object(a.a)({},h)},_.allowMultiple=function(e){void 0===e&&(e=!0),m=e},_.install=function(){s.a.use(v)},s.a.prototype.$toast=_;var y=_;y.setDefaultOptions({duration:1e3});t.a=y}});